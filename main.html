<html>
    <head>
        <script src="./javascript/jquery.js"></script>
        <link rel="stylesheet" href="./css/style.css" />
        <title> Casabatllo INFO </title>
    </head>

    <body>
        <div class="container">
            <div>
                <video src="./images/cat/CAT_video_totem.mp4" id="main_video" loop class="main_image" style="display: none;" autoplay muted></video>
                <img src="./images/cat/CAT-slide-01-HR.png" id="main" style="display: block;" class="main_image">
            </div>

            <div>
                <div>
                    <img src="./images/arrow_left_t.png" id="left_pager" class="left_page_btn">
                    <img src="./images/arrow_right_t.png" id="right_pager" class="right_page_btn">
                </div>
            </div>

            <div class="btn_container">
                <button class="btn_size select" id="cat">CAT</button>
                <button class="btn_size" id="kor">KOR</button>
                <button class="btn_size" id="eng">ENG</button>
                <button class="btn_size" id="esp">ESP</button>
            </div>
        </div>

        <script>

            const catImage = [
            './images/cat/CAT-slide-01-HR.png',
            './images/cat/CAT-slide-02-HR.png',
            './images/cat/CAT-slide-03-HR.png',
            './images/cat/CAT-slide-04-HR.png',
            './images/cat/CAT_video_totem.mp4'
            ]

            const korImage = [
            './images/cor/COR-slide-01-HR.png',
            './images/cor/COR-slide-02-HR.png',
            './images/cor/COR-slide-03-HR.png',
            './images/cor/COR-slide-04-HR.png',
            './images/cor/KOR_video_totem.mp4'
            ]

            const engImage = [
            './images/eng/ENG-slide-01-HR.png',
            './images/eng/ENG-slide-02-HR.png',
            './images/eng/ENG-slide-03-HR.png',
            './images/eng/ENG-slide-04-HR.png',
            './images/eng/ENG_video_totem.mp4'
            ]

            const espImage = [
            './images/esp/ESP-slide-01-HR.png',
            './images/esp/ESP-slide-02-HR.png',
            './images/esp/ESP-slide-03-HR.png',
            './images/esp/ESP-slide-04-HR.png',
            './images/esp/ESP_video_totem.mp4'
            ]

            var seleteLang = [
            './images/cat/CAT-slide-01-HR.png',
            './images/cat/CAT-slide-02-HR.png',
            './images/cat/CAT-slide-03-HR.png',
            './images/cat/CAT-slide-04-HR.png',
            './images/cat/CAT_video_totem.mp4'
            ]

            var pagerCount = 0;

            $("#cat").click(function () {
                seleteLang = catImage

                $("#main").attr('src', seleteLang[pagerCount])
                $("#main_video").attr('src', seleteLang[4])
                $("#cat").addClass('select')
                $("#kor").removeClass('select')
                $("#eng").removeClass('select')
                $("#esp").removeClass('select')
            })
            $("#kor").click(function () {
                seleteLang = korImage

                $("#main").attr('src', seleteLang[pagerCount])
                $("#main_video").attr('src', seleteLang[4])
                $("#cat").removeClass('select')
                $("#kor").addClass('select')
                $("#eng").removeClass('select')
                $("#esp").removeClass('select')
            })
            $("#eng").click(function () {
                seleteLang = engImage

                $("#main").attr('src', seleteLang[pagerCount])
                $("#main_video").attr('src', seleteLang[4])
                $("#cat").removeClass('select')
                $("#kor").removeClass('select')
                $("#eng").addClass('select')
                $("#esp").removeClass('select')
            })
            $("#esp").click(function () {
                seleteLang = espImage

                $("#main").attr('src', seleteLang[pagerCount])
                $("#main_video").attr('src', seleteLang[4])
                $("#cat").removeClass('select')
                $("#kor").removeClass('select')
                $("#eng").removeClass('select')
                $("#esp").addClass('select')
            })

            $("#left_pager").click(function () {
                left_page(true)
            })

            $("#right_pager").click(function () {
                right_page(true)
            })
            
            autoPager(pagerCount)

            function autoPager(num, touch) {
                var timeSet = 5000
                
                if (num == 4) {
                    timeSet = 20000
                }

                if (!touch) {
                    const autoTimer = setTimeout(function() {
                        right_page(false)
                    }, timeSet)
                }
            }

            function left_page(touch) {
                pagerCount -= 1;

                if (pagerCount == -1) {
                    pagerCount = catImage.length - 1
                    console.log(pagerCount);
                }

                if (pagerCount === 4) {
                    $("#main_video").css('display', 'block')
                    $("#main").css('display', 'none')
                    autoPager(pagerCount, touch)
                } else {
                    $("#main").css('display', 'block')
                    $("#main_video").css('display', 'none')
                    autoPager(pagerCount, touch)
                }

                $("#main").attr('src', seleteLang[pagerCount])
            }

            function right_page(touch) {
                pagerCount += 1;

                if (pagerCount == catImage.length) {
                    pagerCount = 0
                }

                if (pagerCount === 4) {
                    $("#main_video").css('display', 'block')
                    $("#main").css('display', 'none')
                    autoPager(pagerCount, touch)
                } else {
                    $("#main").css('display', 'block')
                    $("#main_video").css('display', 'none')
                    autoPager(pagerCount, touch)
                }

                $("#main").attr('src', seleteLang[pagerCount])
            }

        </script>
    </body>
</html>